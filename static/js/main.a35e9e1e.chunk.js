(this["webpackJsonppolyomino-painter"]=this["webpackJsonppolyomino-painter"]||[]).push([[0],{180:function(e,t,n){e.exports=n(460)},185:function(e,t,n){},460:function(e,t,n){"use strict";n.r(t);var r,o,a,s,i,l,c,u,h,p,d,y,g,m,f,v,b,C,O,S,P,k,j,E,I,w,x,q,H,z=n(1),U=n.n(z),M=n(68),R=n.n(M),N=(n(185),n(175)),B=n(14),F=(n(186),n(9)),X=n(10),W=n(4),Y=n(12),A=n(11),T=n(6),J=n(7),D=[{name:"lthing",data:[[0,0],[-1,1],[0,1],[0,-1],[1,0],[2,0]]},{name:"tshape",data:[[0,0],[-1,-1],[-1,0],[-1,1],[1,0],[2,0]]},{name:"stairs",data:[[0,0],[-1,-1],[0,-1],[1,0],[1,1],[2,1]]},{name:"doublel",data:[[0,0],[-1,-1],[-1,0],[1,0],[2,0],[2,1]]},{name:"line",data:[[0,0],[-2,0],[-1,0],[1,0],[2,0]]},{name:"handman",data:[[0,0],[0,-1],[0,1],[0,2],[1,0]]},{name:"donut",data:[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,1],[1,0],[1,-1]]},{name:"crosshair",data:[[-2,0],[-1,0],[0,0],[1,0],[2,0],[0,-2],[0,-1],[0,1],[0,2]]},{name:"4parenthesis",data:[[-2,-2],[-2,-1],[-1,-2],[2,2],[2,1],[1,2],[-2,2],[-2,1],[-1,2],[2,-2],[2,-1],[1,-2]]},{name:"2parenthesis",data:[[2,2],[2,1],[0,2],[0,-2],[2,-1],[2,-2],[1,2],[1,-2],[-2,2],[-2,-2],[-2,1],[-2,-1],[-1,2],[-1,-2]]},{name:"arrow",data:[[2,0],[1,0],[0,0],[-1,0],[-2,0],[0,-2],[0,-1],[0,1],[0,2],[-1,1],[-1,-1]]},{name:"x",data:[[2,2],[2,-2],[-2,2],[-2,-2],[0,0],[1,1],[1,-1],[-1,1],[-1,-1]]}],L=n(26),G=n(28),_=J.a.td(r||(r=Object(T.a)(["\n    background: ",";\n    width: ","px;\n    height: ","px;\n    text-align: center;\n    border: 2px solid black;\n    cursor: pointer;\n    user-select: none;\n\n    &.is-being-checked {\n        outline-color: ",";\n        outline-style: dashed;\n        outline-width: 5px;\n    }\n"])),(function(e){return e.assignedColor}),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.currentColor})),K=function(e){Object(Y.a)(n,e);var t=Object(A.a)(n);function n(e){var r;return Object(F.a)(this,n),(r=t.call(this)).getCursor=r.getCursor.bind(Object(W.a)(r)),r}return Object(X.a)(n,[{key:"getCursor",value:function(){return"pointer"}},{key:"render",value:function(){var e=this;return U.a.createElement(_,{width:this.props.width,height:this.props.height,currentColor:this.props.currentColor,assignedColor:this.props.assignedColor,cursor:this.getCursor(),className:this.props.isBeingChecked?"is-being-checked":"",onMouseEnter:function(){return e.props.onSetCurrentCenter(e.props.row,e.props.col)},onMouseUp:function(){return e.props.mouseIsUp()},onMouseDown:function(){return e.props.mouseIsDown(e.props.row,e.props.col)}})}}]),n}(z.Component),V=n(31),$=J.a.table(o||(o=Object(T.a)(["\n    border-collapse: collapse;\n    margin: auto;\n\n    background-image:\n      linear-gradient(45deg, #f0f5f5 25%, transparent 25%),\n      linear-gradient(45deg, transparent 75%, #f0f5f5 75%),\n      linear-gradient(45deg, transparent 75%, #f0f5f5 75%),\n      linear-gradient(45deg, #f0f5f5 25%, #ffffff 25%);\n    \n    background-size: 80px 80px;\n\n    background-position: 0 0, 0 0, -40px -40px, 40px 40px;\n"]))),Q=J.a.div(a||(a=Object(T.a)(["\n    text-align: center;\n"]))),Z=Object(J.a)(G.c)(s||(s=Object(T.a)(["\n    cursor: pointer;\n"]))),ee=Object(J.a)(G.f)(i||(i=Object(T.a)(["\n    cursor: pointer;\n"]))),te=J.a.div(l||(l=Object(T.a)([""]))),ne=function(e){Object(Y.a)(n,e);var t=Object(A.a)(n);function n(e){var r;return Object(F.a)(this,n),(r=t.call(this)).state={currentComputedPolyo:[-1,-1],isMouseDown:!1},r.setCurrentCenter=r.setCurrentCenter.bind(Object(W.a)(r)),r.mouseIsDown=r.mouseIsDown.bind(Object(W.a)(r)),r.mouseIsUp=r.mouseIsUp.bind(Object(W.a)(r)),r.increaseGrid=r.increaseGrid.bind(Object(W.a)(r)),r.decreaseGrid=r.decreaseGrid.bind(Object(W.a)(r)),r.undoCanvas=r.undoCanvas.bind(Object(W.a)(r)),r.redoCanvas=r.redoCanvas.bind(Object(W.a)(r)),r.clearCanvas=r.clearCanvas.bind(Object(W.a)(r)),r}return Object(X.a)(n,[{key:"increaseGrid",value:function(){this.props.boardX+1<=20&&this.props.onBoardSizeChange(this.props.boardX+1,this.props.boardY+1)}},{key:"decreaseGrid",value:function(){this.props.boardX-1>=10&&this.props.onBoardSizeChange(this.props.boardX-1,this.props.boardY-1)}},{key:"undoCanvas",value:function(){this.props.onUndoCanvas(!0)}},{key:"redoCanvas",value:function(){this.props.onRedoCanvas(!1)}},{key:"clearCanvas",value:function(){this.props.onCanvasChange([])}},{key:"setCurrentCenter",value:function(e,t){var n=this.computePolyoCoords(e,t);this.setState((function(e){return{currentComputedPolyo:n}})),this.state.isMouseDown&&this.assignColorToSquares(this.props.currentPrimaryColor,n)}},{key:"eraseSquares",value:function(e){var t=Object.assign({},this.props.canvas);e.map((function(e){var n=e[0]+","+e[1];return delete t[n],!0})),this.props.onCanvasChange(t)}},{key:"getColorFromSquare",value:function(e){0!==e&&(this.props.onPrimaryColorChange(e),this.props.onToggleColorSelector())}},{key:"assignColorToSquares",value:function(e,t,n){if(this.props.isColorSelectorOn)this.getColorFromSquare(n);else if(this.props.isEraserOn)this.eraseSquares(t);else if(this.props.isFillOn){var r=this.fillSquares(t[0],n,e,Object.assign({},this.props.canvas));this.props.onCanvasChange(r)}else{var o=Object.assign({},this.props.canvas);t.map((function(t){return o[t[0]+","+t[1]]=e,!0})),this.props.onCanvasChange(o)}}},{key:"fillSquares",value:function(e,t,n,r){var o=e[0]+","+e[1];if("undefined"===typeof r[o]){if(0!==t)return r;r[o]=0}return r[o]!==t||(r[o]=n,this.fillSquares([Math.min(this.props.boardX-1,e[0]+1),e[1]],t,n,r),this.fillSquares([Math.max(0,e[0]-1),e[1]],t,n,r),this.fillSquares([e[0],Math.min(this.props.boardY-1,e[1]+1)],t,n,r),this.fillSquares([e[0],Math.max(0,e[1]-1)],t,n,r)),r}},{key:"computePolyoCoords",value:function(e,t){return this.props.isColorSelectorOn||this.props.isFillOn?[[e,t]]:this.props.currentPolyo.map((function(n){return[e+n[0],t+n[1]]}))}},{key:"getSquareAssignment",value:function(e,t){var n=e+","+t;return this.props.canvas[n]&&"undefined"!==this.props.canvas[n]?this.props.canvas[n]:0}},{key:"isSquareBeingChecked",value:function(e,t){var n=JSON.stringify([e,t]);return this.state.currentComputedPolyo.some((function(e){return JSON.stringify(e)===n}))}},{key:"mouseIsDown",value:function(e,t){this.setState((function(e){return{isMouseDown:!0}})),this.assignColorToSquares(this.props.currentPrimaryColor,this.state.currentComputedPolyo,this.getSquareAssignment(e,t))}},{key:"mouseIsUp",value:function(){this.setState((function(e){return{isMouseDown:!1}}))}},{key:"renderSquare",value:function(e,t){var n=this,r="square"+e+t;return U.a.createElement(K,{key:r,row:e,col:t,width:this.props.squareWidth,height:this.props.squareHeight,currentColor:this.props.currentPrimaryColor,assignedColor:this.getSquareAssignment(e,t),isBeingChecked:this.isSquareBeingChecked(e,t),isColorSelectorOn:this.props.isColorSelectorOn,isEraserOn:this.props.isEraserOn,onSetCurrentCenter:function(){return n.setCurrentCenter(e,t)},mouseIsUp:this.mouseIsUp,mouseIsDown:this.mouseIsDown})}},{key:"renderRow",value:function(e){var t=this,n="row"+e;return U.a.createElement("tr",{key:n},Object(L.a)(Array(this.props.boardX)).map((function(n,r){return t.renderSquare(e,r)})))}},{key:"resetCurrentPolyo",value:function(){this.setState((function(e){return{currentComputedPolyo:[-1,-1]}}))}},{key:"getGridWidth",value:function(){return this.props.squareWidth*this.props.boardX}},{key:"render",value:function(){var e=this;return U.a.createElement(te,null,U.a.createElement(Q,null,U.a.createElement("div",{style:{userSelect:"none"}},"Canvas Controls"),U.a.createElement(ee,{"data-tip":"Undo Canvas Change",onClick:this.undoCanvas,size:this.props.matIconSize}),U.a.createElement(Z,{"data-tip":"Redo Canvas Change",onClick:this.redoCanvas,size:this.props.matIconSize}),U.a.createElement(V.a,{className:"ml-2",variant:"secondary",onClick:this.clearCanvas},"Clear Canvas")),U.a.createElement($,null,U.a.createElement("tbody",{onMouseLeave:function(){return e.resetCurrentPolyo()},style:{width:this.getGridWidth(),display:"block"}},Object(L.a)(Array(this.props.boardY)).map((function(t,n){return e.renderRow(n)})))))}}]),n}(z.Component),re=n(165),oe=n(177),ae=J.a.td(c||(c=Object(T.a)(["\n    width: ","px;\n    height: ","px;\n    background: ",";\n    text-align: center;\n    border: 2px solid black;\n    cursor: pointer;\n\n    &.is-center {\n        outline-color: red;\n        outline-style: dashed;\n        outline-width: 5px;\n    }\n"])),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.isAssigned?e.currentColor:""})),se=function(e){Object(Y.a)(n,e);var t=Object(A.a)(n);function n(){return Object(F.a)(this,n),t.apply(this,arguments)}return Object(X.a)(n,[{key:"render",value:function(){var e=this;return U.a.createElement(ae,{width:this.props.width,height:this.props.height,className:this.props.isCenter?"is-center":"",currentColor:this.props.currentPrimaryColor,isAssigned:this.props.isAssigned,onClick:function(){return e.props.onPolyominoUpdate()}})}}]),n}(z.Component),ie=J.a.table(u||(u=Object(T.a)(["\n    border-collapse: collapse;\n    margin: auto;\n    background-image:\n      linear-gradient(45deg, #f0f5f5 25%, transparent 25%),\n      linear-gradient(45deg, transparent 75%, #f0f5f5 75%),\n      linear-gradient(45deg, transparent 75%, #f0f5f5 75%),\n      linear-gradient(45deg, #f0f5f5 25%, #ffffff 25%);\n    \n    background-size: 60px 60px;\n\n    background-position: 0 0, 0 0, -30px -30px, 30px 30px;\n"]))),le=function(e){Object(Y.a)(n,e);var t=Object(A.a)(n);function n(){return Object(F.a)(this,n),t.apply(this,arguments)}return Object(X.a)(n,[{key:"isSquareInCurrentPolyo",value:function(e,t){return Array.isArray(this.props.currentPolyo.find((function(n){return n[0]===e&&n[1]===t})))}},{key:"isSquareCenter",value:function(e,t){return 0===e&&0===t}},{key:"toggleSquareInCurrentPolyo",value:function(e,t){var n=-1,r=this.props.currentPolyo.map((function(r,o){return r[0]===e&&r[1]===t&&(n=o),r}));n<=-1?r.push([e,t]):r.splice(n,1),this.props.onPolyoChange(r)}},{key:"renderSquare",value:function(e,t){var n=this,r="preview_"+(e-=2)+","+(t-=2);return U.a.createElement(se,{key:r,row:e,col:t,width:this.props.squareWidth,height:this.props.squareHeight,currentPrimaryColor:this.props.currentPrimaryColor,isAssigned:this.isSquareInCurrentPolyo(e,t),isCenter:this.isSquareCenter(e,t),onPolyominoUpdate:function(){return n.toggleSquareInCurrentPolyo(e,t)}})}},{key:"renderRow",value:function(e){var t=this,n="row"+e;return U.a.createElement("tr",{key:n},Object(L.a)(Array(this.props.boardX)).map((function(n,r){return t.renderSquare(e,r)})))}},{key:"render",value:function(){var e=this;return U.a.createElement(ie,null,U.a.createElement("tbody",null,Object(L.a)(Array(this.props.boardY)).map((function(t,n){return e.renderRow(n)}))))}}]),n}(z.Component),ce=J.a.td(h||(h=Object(T.a)(["\n    width: ","px;\n    height: ","px;\n    background: ",";\n    text-align: center;\n    border: ",";\n"])),(function(e){return e.squareWidth}),(function(e){return e.squareHeight}),(function(e){return e.isAssigned?e.currentColor:"white"}),(function(e){return e.isAssigned?"2px solid black":"0"})),ue=J.a.table(p||(p=Object(T.a)(["\n    width: 100px;\n    height: 100px;\n    border-collapse: separate;\n    border: ",";\n\n    &:not(:last-child) {\n        border-right: ",";\n    }\n"])),(function(e){return e.isCurrent?"2px dotted red":"0"}),(function(e){return e.isCurrent?"2px dotted red":"2px dotted black"})),he=function(e){Object(Y.a)(n,e);var t=Object(A.a)(n);function n(){return Object(F.a)(this,n),t.apply(this,arguments)}return Object(X.a)(n,[{key:"isSquareInCurrentPolyo",value:function(e,t){return Array.isArray(this.props.polyomino.find((function(n){return n[0]===e&&n[1]===t})))}},{key:"renderSquare",value:function(e,t){var n=(e-=2)+","+(t-=2);return U.a.createElement(ce,{key:n,row:e,col:t,squareWidth:20,squareHeight:20,currentColor:this.props.currentPrimaryColor,isAssigned:this.isSquareInCurrentPolyo(e,t)})}},{key:"renderRow",value:function(e){var t=this,n="row"+e;return U.a.createElement("tr",{key:n},Object(L.a)(Array(5)).map((function(n,r){return t.renderSquare(e,r)})))}},{key:"render",value:function(){var e=this;return U.a.createElement(ue,{onClick:function(){return e.props.setCurrentPolyomino(e.props.polyomino)},isCurrent:this.props.isCurrent},U.a.createElement("tbody",null,Object(L.a)(Array(5)).map((function(t,n){return e.renderRow(n)}))))}}]),n}(z.Component),pe=J.a.div(d||(d=Object(T.a)(["\n    display: flex;\n    height: 7rem;\n    width: 300px;\n    outline: 2px solid black;\n    background-color: white;\n    cursor: pointer;\n    margin: auto;\n"]))),de=function(e){Object(Y.a)(n,e);var t=Object(A.a)(n);function n(){return Object(F.a)(this,n),t.apply(this,arguments)}return Object(X.a)(n,[{key:"getIsSelected",value:function(e){return e===this.props.currentUserPolyoId}},{key:"setCurrentPolyomino",value:function(e,t){this.props.onUserPolyoChange(t),this.props.onPolyoChange(e,!0)}},{key:"render",value:function(){var e=this;return U.a.createElement(pe,null,this.props.selectablePolyos.map((function(t,n){return U.a.createElement(he,{key:"selectable_"+t.name,isCurrent:e.getIsSelected(n),setCurrentPolyomino:function(){return e.setCurrentPolyomino(t.data,n)},currentPrimaryColor:e.props.currentPrimaryColor,polyomino:t.data})})))}}]),n}(z.Component),ye=n(164),ge=Object(J.a)(ye.SliderPicker)(y||(y=Object(T.a)(["\n    margin: 10px auto;\n"]))),me=function(e){Object(Y.a)(n,e);var t=Object(A.a)(n);function n(e){var r;return Object(F.a)(this,n),(r=t.call(this)).state={color:e.color},r.handleChangeComplete=r.handleChangeComplete.bind(Object(W.a)(r)),r.handleColorChange=r.handleColorChange.bind(Object(W.a)(r)),r}return Object(X.a)(n,[{key:"handleColorChange",value:function(e,t){this.setState({color:e.hex}),this.props.onColorChange(e.hex)}},{key:"handleChangeComplete",value:function(e){this.setState({color:e.hex}),this.props.onColorChange(e.hex)}},{key:"render",value:function(){return U.a.createElement(ge,{color:this.state.color,onChange:this.handleColorChange,onChangeComplete:this.handleChangeComplete})}}]),n}(z.Component),fe=function(e){Object(Y.a)(n,e);var t=Object(A.a)(n);function n(e){var r;return Object(F.a)(this,n),(r=t.call(this)).setRandomPolyomino=r.setRandomPolyomino.bind(Object(W.a)(r)),r}return Object(X.a)(n,[{key:"setRandomPolyomino",value:function(){var e=Math.floor(Math.random()*this.props.polyominos.length),t="undefined"!=typeof this.props.polyominos[e]?this.props.polyominos[e]:this.props.polyominos[0];this.props.onPolyoChange(t.data)}},{key:"render",value:function(){return U.a.createElement(V.a,{variant:"secondary",onClick:this.setRandomPolyomino},"Random Brush")}}]),n}(z.Component),ve=n(74),be=n(167),Ce=n(166),Oe=Object(J.a)(G.d)(g||(g=Object(T.a)(["\n    cursor: pointer;\n"]))),Se=Object(J.a)(G.e)(m||(m=Object(T.a)(["\n    cursor: pointer;\n"]))),Pe=Object(J.a)(G.a)(f||(f=Object(T.a)(["\n    cursor: pointer;\n    color: ",";\n"])),(function(e){return e.color})),ke=Object(J.a)(re.a)(v||(v=Object(T.a)(["\n    cursor: pointer;\n    color: ",";\n"])),(function(e){return e.color})),je=Object(J.a)(Ce.a)(b||(b=Object(T.a)(["\n    cursor: pointer;\n    color: ",";\n"])),(function(e){return e.color})),Ee=Object(J.a)(G.b)(C||(C=Object(T.a)(["\n    transform: rotate(90deg);\n    cursor: pointer;\n"]))),Ie=Object(J.a)(G.b)(O||(O=Object(T.a)(["\n    cursor: pointer;\n"]))),we=Object(J.a)(G.c)(S||(S=Object(T.a)(["\n    cursor: pointer;\n"]))),xe=Object(J.a)(G.f)(P||(P=Object(T.a)(["\n    cursor: pointer;\n"]))),qe=J.a.div(k||(k=Object(T.a)(["\n    display: flex;\n    margin: 10px auto;\n"]))),He=J.a.div(j||(j=Object(T.a)(["\n    display: flex;\n"]))),ze=J.a.div(E||(E=Object(T.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin: 10px auto;\n"]))),Ue=J.a.div(I||(I=Object(T.a)(["\n    padding: 10px;\n    width: 24rem;\n    background-color: #e9ecef;\n    box-shadow: 0 1px 4px #e9ecef;\n"]))),Me=function(e){Object(Y.a)(n,e);var t=Object(A.a)(n);function n(e){var r;return Object(F.a)(this,n),(r=t.call(this)).rotateLeft=r.rotateLeft.bind(Object(W.a)(r)),r.rotateRight=r.rotateRight.bind(Object(W.a)(r)),r.flipX=r.flipX.bind(Object(W.a)(r)),r.flipY=r.flipY.bind(Object(W.a)(r)),r.undoPolyo=r.undoPolyo.bind(Object(W.a)(r)),r.redoPolyo=r.redoPolyo.bind(Object(W.a)(r)),r.clearPolyomino=r.clearPolyomino.bind(Object(W.a)(r)),r.getColorSelectColor=r.getColorSelectColor.bind(Object(W.a)(r)),r.getEraserColor=r.getEraserColor.bind(Object(W.a)(r)),r}return Object(X.a)(n,[{key:"rotateLeft",value:function(){this.props.onPolyoChange(this.props.currentPolyo.map((function(e){return[-1*e[1],e[0]]})))}},{key:"rotateRight",value:function(){this.props.onPolyoChange(this.props.currentPolyo.map((function(e){return[e[1],-1*e[0]]})))}},{key:"flipX",value:function(){this.props.onPolyoChange(this.props.currentPolyo.map((function(e){return[-1*e[0],e[1]]})))}},{key:"flipY",value:function(){this.props.onPolyoChange(this.props.currentPolyo.map((function(e){return[e[0],-1*e[1]]})))}},{key:"clearPolyomino",value:function(){this.props.onPolyoChange([])}},{key:"undoPolyo",value:function(){this.props.onUndoPolyo(!0)}},{key:"redoPolyo",value:function(){this.props.onRedoPolyo(!1)}},{key:"setPolyoByName",value:function(e){this.props.onPolyoChangeByName(e)}},{key:"getColorSelectColor",value:function(){return this.props.isColorSelectorOn?"gray":"black"}},{key:"getEraserColor",value:function(){return this.props.isEraserOn?"gray":"black"}},{key:"getFillColor",value:function(){return this.props.isFillOn?"gray":"black"}},{key:"render",value:function(){var e=this;return U.a.createElement(Ue,null,U.a.createElement(me,{color:this.props.currentPrimaryColor,onColorChange:this.props.onPrimaryColorChange}),U.a.createElement(le,{squareWidth:this.props.previewSquareWidth,squareHeight:this.props.previewSquareHeight,currentPrimaryColor:this.props.currentPrimaryColor,currentPolyo:this.props.currentPolyo,onPolyoChange:this.props.onPolyoChange,boardX:5,boardY:5}),U.a.createElement(qe,null,U.a.createElement(de,{selectablePolyos:this.props.selectablePolyos,currentPrimaryColor:this.props.currentPrimaryColor,currentUserPolyoId:this.props.currentUserPolyoId,onPolyoChange:this.props.onPolyoChange,onUserPolyoChange:this.props.onUserPolyoChange})),U.a.createElement(He,null,U.a.createElement(fe,{onPolyoChange:this.props.onPolyoChange,polyominos:this.props.polyoList}),U.a.createElement(V.a,{variant:"secondary",onClick:this.clearPolyomino},"Clear Brush"),U.a.createElement(be.a,{variant:"secondary",drop:"right",id:"select-brush",title:"Select Brush",onSelect:function(t){return e.setPolyoByName(t)}},this.props.polyoList.map((function(e){return U.a.createElement(ve.a.Item,{key:"brush_"+e.name,eventKey:e.name},e.name)})))),U.a.createElement(ze,null,U.a.createElement(Oe,{"data-tip":"Rotate Counterclockwise",onClick:this.rotateLeft,size:this.props.matIconSize}),U.a.createElement(Se,{"data-tip":"Rotate Clockwise",onClick:this.rotateRight,size:this.props.matIconSize}),U.a.createElement(Ee,{"data-tip":"Flip Horizontally",onClick:this.flipX,size:this.props.matIconSize}),U.a.createElement(Ie,{"data-tip":"Flip Vertically",onClick:this.flipY,size:this.props.matIconSize}),U.a.createElement(xe,{"data-tip":"Undo Brush Change",onClick:this.undoPolyo,size:this.props.matIconSize}),U.a.createElement(we,{"data-tip":"Redo Brush Change",onClick:this.redoPolyo,size:this.props.matIconSize})),U.a.createElement(ze,null,U.a.createElement(Pe,{"data-tip":"Toggle Color Selector",onClick:this.props.onToggleColorSelector,size:this.props.matIconSize,color:this.getColorSelectColor()}),U.a.createElement(ke,{"data-tip":"Toggle Eraser",onClick:this.props.onToggleEraser,size:this.props.matIconSize,color:this.getEraserColor()}),U.a.createElement(je,{"data-tip":"Toggle Fill",onClick:this.props.onToggleFill,size:this.props.matIconSize,color:this.getFillColor()})),U.a.createElement(oe.a,null))}}]),n}(z.Component),Re=n(466),Ne=n(467),Be=function(e){Object(Y.a)(n,e);var t=Object(A.a)(n);function n(e){var r;return Object(F.a)(this,n),(r=t.call(this)).canvasRef=U.a.createRef(),r}return Object(X.a)(n,[{key:"componentDidMount",value:function(){this.drawCanvas()}},{key:"componentDidUpdate",value:function(){this.drawCanvas()}},{key:"drawCanvas",value:function(){var e=this.props.canvas,t=this.props.canvasWidth/this.props.boardX,n=this.props.canvasHeight/this.props.boardY,r=this.canvasRef.current.getContext("2d");r.clearRect(0,0,this.props.canvasWidth,this.props.canvasHeight),Object.keys(e).map((function(o){var a=o.split(","),s=Number(a[0]),i=Number(a[1]);return r.beginPath(),r.fillStyle=e[o],r.fillRect(i*t,s*t,t,n),r.fill(),!0}))}},{key:"render",value:function(){return U.a.createElement("canvas",{width:this.props.canvasWidth,height:this.props.canvasHeight,ref:this.canvasRef,style:{border:"2px solid"}})}}]),n}(z.Component),Fe=J.a.div(w||(w=Object(T.a)(["\n    display: inline-block;\n    padding: 0.5rem;\n"]))),Xe=function(e){Object(Y.a)(n,e);var t=Object(A.a)(n);function n(e){var r;return Object(F.a)(this,n),(r=t.call(this)).state={canvas:e.image},r.handleClick=r.handleClick.bind(Object(W.a)(r)),r}return Object(X.a)(n,[{key:"handleClick",value:function(){var e=this;if("load"===this.props.myimageop&&this.props.onCanvasChange(this.state.canvas),"save"===this.props.myimageop){var t=Object(L.a)(this.props.myimages);t[this.props.num]=this.props.maincanvas,this.setState((function(t){return{canvas:e.props.maincanvas}})),localStorage.setItem("myimages",JSON.stringify(t)),this.props.onImageSave(this.props.num,this.props.maincanvas)}}},{key:"render",value:function(){return U.a.createElement(Fe,{onClick:this.handleClick},U.a.createElement(Be,{canvas:this.state.canvas,boardX:this.props.boardX,boardY:this.props.boardY,canvasWidth:100,canvasHeight:100}))}}]),n}(z.Component),We=J.a.div(x||(x=Object(T.a)(["\n    width: 24rem;\n    background-color: #e9ecef;\n    box-shadow: 0 1px 4px #e9ecef;\n    padding: 10px;\n"]))),Ye=function(e){Object(Y.a)(n,e);var t=Object(A.a)(n);function n(){return Object(F.a)(this,n),t.apply(this,arguments)}return Object(X.a)(n,[{key:"renderMyImage",value:function(e,t){return U.a.createElement(Xe,{key:"myimage-"+t,num:t,image:e,boardX:this.props.boardX,boardY:this.props.boardY,myimages:this.props.myimages,myimageop:this.props.myimageop,maincanvas:this.props.canvas,onCanvasChange:this.props.onCanvasChange})}},{key:"render",value:function(){var e=this;return U.a.createElement(We,null,U.a.createElement("div",{style:{margin:"10px"}},"Image Preview (right click to save)"),U.a.createElement("p",null,"20 x 20"),U.a.createElement(Be,{canvas:this.props.canvas,boardX:this.props.boardX,boardY:this.props.boardY,canvasWidth:20,canvasHeight:20}),U.a.createElement("p",null,"200 x 200"),U.a.createElement(Be,{canvas:this.props.canvas,boardX:this.props.boardX,boardY:this.props.boardY,canvasWidth:200,canvasHeight:200}),U.a.createElement("p",null,"My Images"),U.a.createElement("div",null,U.a.createElement(Re.a,{toggle:!0},U.a.createElement(Ne.a,{key:"loadonclick",type:"radio",variant:"secondary",name:"radio",value:"load",checked:"load"===this.props.myimageop,onChange:function(t){return e.props.onMyImageOpChange(t.currentTarget.value)}},"Load On Click"),U.a.createElement(Ne.a,{key:"saveonclick",type:"radio",variant:"secondary",name:"radio",value:"save",checked:"save"===this.props.myimageop,onChange:function(t){return e.props.onMyImageOpChange(t.currentTarget.value)}},"Save On Click"))),this.props.myimages.map((function(t,n){return e.renderMyImage(t,n)})))}}]),n}(z.Component),Ae=J.a.div(q||(q=Object(T.a)(["\n    height: 56px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    background-color: #a6d0e1;\n    padding: 10px;\n    font-size: 32px;\n"]))),Te=J.a.div(H||(H=Object(T.a)(["\n    display: flex;\n    justify-content: space-between;\n    position: absolute;\n    top: 56px;\n    height: 100%;\n    left: 0;\n    right: 0;\n    bottom: 0;\n"]))),Je=function(e){Object(Y.a)(n,e);var t=Object(A.a)(n);function n(e){var r;Object(F.a)(this,n),r=t.call(this);var o=D[Math.floor(Math.random()*D.length)],a=localStorage.getItem("color1")?localStorage.getItem("color1"):"blue",s=localStorage.getItem("userpolyo")?Number(localStorage.getItem("userpolyo")):-1,i=[s],l=localStorage.getItem("canvas")?JSON.parse(localStorage.getItem("canvas")):{},c=[l],u=localStorage.getItem("polyo")?JSON.parse(localStorage.getItem("polyo")):o.data,h=[u],p=r.shufflePolyominos(),d=localStorage.getItem("selectablepolyos")?JSON.parse(localStorage.getItem("selectablepolyos")):p.slice(0,3),y=localStorage.getItem("myimages")?JSON.parse(localStorage.getItem("myimages")):[{},{},{},{},{},{}];return r.state={canvasSquareWidth:80,canvasSquareHeight:80,previewSquareWidth:60,previewSquareHeight:60,currentPolyo:u,currentUser:"",currentUserId:"",currentUserPolyoId:s,userPolyoIdHistory:i,primaryColor:a,canvas:l,xSquares:10,ySquares:10,isEraserOn:!1,isColorSelectorOn:!1,isFillOn:!1,canvasHistory:c,currentPolyoHistory:h,canvasStep:0,currentPolyoStep:0,matIconSize:50,polyoList:p.slice(0,10),selectablePolyos:d,myimages:y,myimageop:"load"},r.changePrimaryColor=r.changePrimaryColor.bind(Object(W.a)(r)),r.changePolyo=r.changePolyo.bind(Object(W.a)(r)),r.changePolyoByName=r.changePolyoByName.bind(Object(W.a)(r)),r.changeCanvas=r.changeCanvas.bind(Object(W.a)(r)),r.changeBoardSize=r.changeBoardSize.bind(Object(W.a)(r)),r.changePolyoHistory=r.changePolyoHistory.bind(Object(W.a)(r)),r.changeSquaresHistory=r.changeSquaresHistory.bind(Object(W.a)(r)),r.changeUserPolyo=r.changeUserPolyo.bind(Object(W.a)(r)),r.changeMyImages=r.changeMyImages.bind(Object(W.a)(r)),r.changeMyImageOp=r.changeMyImageOp.bind(Object(W.a)(r)),r.toggleEraser=r.toggleEraser.bind(Object(W.a)(r)),r.toggleColorSelector=r.toggleColorSelector.bind(Object(W.a)(r)),r.toggleFill=r.toggleFill.bind(Object(W.a)(r)),r.newImage=r.newImage.bind(Object(W.a)(r)),r.resetCanvas=r.resetCanvas.bind(Object(W.a)(r)),r}return Object(X.a)(n,[{key:"changePrimaryColor",value:function(e){localStorage.setItem("color1",e),this.setState((function(t){return{primaryColor:e}}))}},{key:"changePolyo",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.state.currentPolyoHistory.slice(0,this.state.currentPolyoStep+1),o=Object.assign(this.state.selectablePolyos);if(!n&&this.state.currentUserPolyoId>-1){var a=this.state.userPolyoIdHistory.slice(0,this.state.currentPolyoStep+1);o[this.state.currentUserPolyoId].data=e,this.setState((function(e){return{userPolyoIdHistory:a.concat([t.state.currentUserPolyoId])}}))}localStorage.setItem("polyo",JSON.stringify(e)),localStorage.setItem("selectablepolyos",JSON.stringify(o)),this.setState((function(n){return{currentPolyo:e,currentPolyoHistory:r.concat([e]),currentPolyoStep:t.state.currentPolyoStep+1,selectablePolyos:o}}))}},{key:"changePolyoByName",value:function(e){this.changePolyo(this.state.polyoList.filter((function(t){return t.name===e}))[0].data)}},{key:"changeCanvas",value:function(e){var t=this,n=this.state.canvasHistory.slice(0,this.state.canvasStep+1);localStorage.setItem("canvas",JSON.stringify(e)),this.setState((function(r){return{canvas:e,canvasHistory:n.concat([e]),canvasStep:t.state.canvasStep+1}}))}},{key:"changeBoardSize",value:function(e,t){this.setState((function(n){return{xSquares:e,ySquares:t}}))}},{key:"changePolyoHistory",value:function(e){var t=this,n=e?this.state.currentPolyoStep-1:this.state.currentPolyoStep+1,r=Object.assign(this.state.selectablePolyos),o=this.state.userPolyoIdHistory[n];o>-1&&(r[o].data=this.state.currentPolyoHistory[n]),"undefined"!==typeof this.state.currentPolyoHistory[n]&&(localStorage.setItem("polyo",JSON.stringify(this.state.currentPolyoHistory[n])),localStorage.setItem("userpolyo",o),localStorage.setItem("selectablepolyos",JSON.stringify(r)),this.setState((function(e){return{currentPolyo:t.state.currentPolyoHistory[n],currentPolyoStep:n,currentUserPolyoId:o,selectablePolyos:r}})))}},{key:"changeSquaresHistory",value:function(e){var t=this,n=e?this.state.canvasStep-1:this.state.canvasStep+1;"undefined"!==typeof this.state.canvasHistory[n]&&(localStorage.setItem("canvas",JSON.stringify(this.state.canvasHistory[n])),this.setState((function(e){return{canvas:t.state.canvasHistory[n],canvasStep:n}})))}},{key:"changeUserPolyo",value:function(e){localStorage.setItem("userpolyo",e);var t=this.state.userPolyoIdHistory.slice(0,this.state.currentPolyoStep+1);this.setState((function(n){return{currentUserPolyoId:e,userPolyoIdHistory:t.concat([e])}}))}},{key:"toggleEraser",value:function(){var e=!this.state.isEraserOn;this.setState((function(t){return{isEraserOn:e}})),this.turnOffOtherTools("eraser")}},{key:"toggleColorSelector",value:function(){var e=!this.state.isColorSelectorOn;this.setState((function(t){return{isColorSelectorOn:e}})),this.turnOffOtherTools("color")}},{key:"toggleFill",value:function(){var e=!this.state.isFillOn;this.setState((function(t){return{isFillOn:e}})),this.turnOffOtherTools("fill")}},{key:"turnOffOtherTools",value:function(e){this.state.isEraserOn&&"eraser"!==e&&this.toggleEraser(),this.state.isFillOn&&"fill"!==e&&this.toggleFill(),this.state.isColorSelectorOn&&"color"!==e&&this.toggleColorSelector()}},{key:"shufflePolyominos",value:function(){for(var e,t,n=D,r=n.length;0!==r;)t=Math.floor(Math.random()*r),e=n[r-=1],n[r]=n[t],n[t]=e;return n}},{key:"newImage",value:function(){this.resetCanvas()}},{key:"resetCanvas",value:function(){this.setState((function(e){return{canvas:{},canvasHistory:[{}],canvasStep:0}}))}},{key:"changeMyImages",value:function(e){this.setState((function(t){return{myimages:e}}))}},{key:"changeMyImageOp",value:function(e){this.setState((function(t){return{myimageop:e}}))}},{key:"render",value:function(){return U.a.createElement("div",null,U.a.createElement(Ae,null,"Polyomino Painter"),U.a.createElement(Te,null,U.a.createElement(Me,{currentPrimaryColor:this.state.primaryColor,currentPolyo:this.state.currentPolyo,currentUserPolyoId:this.state.currentUserPolyoId,canvas:this.state.canvas,isEraserOn:this.state.isEraserOn,isColorSelectorOn:this.state.isColorSelectorOn,isFillOn:this.state.isFillOn,polyoList:this.state.polyoList,selectablePolyos:this.state.selectablePolyos,onPrimaryColorChange:this.changePrimaryColor,onCanvasChange:this.changeCanvas,onPolyoChange:this.changePolyo,onPolyoChangeByName:this.changePolyoByName,onToggleEraser:this.toggleEraser,onToggleColorSelector:this.toggleColorSelector,onToggleFill:this.toggleFill,onUndoPolyo:this.changePolyoHistory,onUserPolyoChange:this.changeUserPolyo,onRedoPolyo:this.changePolyoHistory,matIconSize:this.state.matIconSize,previewSquareWidth:this.state.previewSquareWidth,previewSquareHeight:this.state.previewSquareHeight}),U.a.createElement(ne,{currentPrimaryColor:this.state.primaryColor,currentPolyo:this.state.currentPolyo,canvas:this.state.canvas,isEraserOn:this.state.isEraserOn,isColorSelectorOn:this.state.isColorSelectorOn,isFillOn:this.state.isFillOn,onPrimaryColorChange:this.changePrimaryColor,onCanvasChange:this.changeCanvas,onToggleColorSelector:this.toggleColorSelector,matIconSize:this.state.matIconSize,onBoardSizeChange:this.changeBoardSize,onUndoCanvas:this.changeSquaresHistory,onRedoCanvas:this.changeSquaresHistory,squareWidth:this.state.canvasSquareWidth,squareHeight:this.state.canvasSquareHeight,boardX:this.state.xSquares,boardY:this.state.ySquares}),U.a.createElement(Ye,{canvas:this.state.canvas,boardX:this.state.xSquares,boardY:this.state.ySquares,myimages:this.state.myimages,myimageop:this.state.myimageop,onCanvasChange:this.changeCanvas,onMyImageOpChange:this.changeMyImageOp})))}}]),n}(z.Component);function De(){return U.a.createElement(N.a,null,U.a.createElement(B.a,{path:"/",component:Je}))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));R.a.render(U.a.createElement(U.a.StrictMode,null,U.a.createElement(De,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[180,1,2]]]);
//# sourceMappingURL=main.a35e9e1e.chunk.js.map